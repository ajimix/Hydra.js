/*! Hydra.js v3.6.0 | Date:2013-12-14 | License: https://raw.github.com/tcorral/Hydra.js/master/LICENSE| (c) 2009, 2013
//@ sourceMappingURL=hydra.min.map
*/

(function(a){"use strict";var b=b,c=Error,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;e=function(a,b){return typeof a===b},f=function(a,b){return a instanceof b},m=function(a,b){var d="The module "+a+" is not registered in the system";if(b)throw new c(d);return d},j="object",p="function";function z(b){try{return f(b,Event)}catch(c){if(b.altKey!==a&&(b.srcElement||b.target))return!0}return n}function A(a){var b=n,c=d.jQuery;return c&&(b=f(a,c)),b}function B(){}function C(){var a=Math,b=+new Date+"",c=a.floor(999999*a.random())+1;return b+"_"+c}function D(a){var b,c,d=Object.keys;if(d)b=d(a).length;else{b=0;for(c in a)K(a,c)&&b++}return b}x=e(exports,j)&&e(module,j)&&e(module.exports,j)&&e(require,p),g="undefined",y=Object.prototype,d=this,k=null,n=!1,h={},o="3.6.0",s=n,l=n;function E(a){return y.toString.call(a)}function F(a){return E(a)==="["+j+" Function]"}function G(a){return E(a)==="["+j+" Array]"}function H(a){s=a}function I(a){l=a}function J(a,b){return[].slice.call(a,b||0)}function K(a,b){return a.hasOwnProperty(b)}function L(a,b,c,d){var f,g;for(f in b)K(b,f)&&(g=b[f],a[f]&&e(g,p)&&g(a,c,d))}function M(a,b,d,f,i){var j,k;return j=h[b],i&&a.isModuleStarted(b)&&a.stop(b),e(j,g)?t.error(new c,m(b)):(k=S(b),j.instances[d]=k,k.__instance_id__=d,L(k,a.oModifyInit,f,i),e(f,g)?k.init():k.init(f)),k}function N(a,b){var c;for(c in b)K(b,c)&&(a[c]=b[c]);return a}function O(a){var b,d,g,h,i;if(null==a||!e(a,j))return a;if(z(a)||A(a))return a;if(f(a,Date))return b=new Date,b.setTime(a.getTime()),b;if(f(a,Array)){for(b=[],g=0,h=a.length;h>g;g++)d=a[g],b[g]=O(d);return b}if(f(a,Object)){b={};for(i in a)K(a,i)&&(b[i]=O(a[i]));return b}throw new c("Unable to copy obj! Its type isn't supported.")}function P(a,b,c,d){a[b]=function(a,b){return function(){var d=J(arguments,0);try{return b.apply(this,d)}catch(e){return t.error(c,a,e),n}}}(b,d)}w={global:{}};function Q(a,b){var c=[],d;if(!e(a,g))for(d in a)K(a,d)&&d===b&&(c=a[d]);return c}v={subscribers:function(a,b){return Q(w[a],b)},_getChannelEvents:function(b,c){return w[b]===a&&(w[b]={}),w[b][c]===a&&(w[b][c]=[]),w[b][c]},_addSubscribers:function(a,b,c){var d;for(d in a)K(a,d)&&this.subscribeTo(b,d,a[d],c)},unsubscribeFrom:function(a,b,c){var d=this._getChannelEvents(a,b),e,f=d.length-1;for(;f>=0;f--)e=d[f],e.subscriber===c&&d.splice(f,1)},subscribeTo:function(a,b,c,d){var e=this._getChannelEvents(a,b);e.push({subscriber:d,handler:c})},subscribe:function(b){var c,d=b.events;if(!b||d===a)return n;for(c in d)K(d,c)&&(w[c]===a&&(w[c]={}),this._addSubscribers(d[c],c,b));return!0},_removeSubscribers:function(a,b){var c=0,d;if(!e(a,g))for(d=a.length-1;d>=0;d--)a[d].subscriber===b&&(c++,a.splice(d,1));return c},_removeSubscribersPerEvent:function(a,b,c){var d,e,f,g,h=0;for(d in a)K(a,d)&&(e=d.split(":"),f=b,g=d,"global"===e[0]&&(f=e[0],g=e[1]),h+=this._removeSubscribers(w[f][g],c));return h},unsubscribe:function(b){var c=0,d,e=b.events;if(!b||e===a)return n;for(d in e)K(e,d)&&(w[d]===a&&(w[d]={}),c=this._removeSubscribersPerEvent(e[d],d,b));return c>0},_avoidBlockUI:function(a,c,d,e){var f,g=a.concat();b(function h(){var a=+new Date;do f=g.shift(),f.handler.call(f.subscriber,c),s&&t.log(d,e,f);while(g.length>0&&+new Date-a<50);g.length>0&&b(h,25)},25)},publish:function(a,b,c){var d=this.subscribers(a,b).slice(),e=d.length,f=0,g,h;if(0===e)return n;if(h=O(c),l)this._avoidBlockUI(d,h,a,b);else for(;e>f;f++)g=d[f],g.handler.call(g.subscriber,h),s&&t.log(a,b,g);return!0},reset:function(){w={global:{}}}};function R(a){var b,c;return b=h[a].creator(v,r.module,r.errorHandler(),r),b.__module_id__=a,c=b.init||B,b.__action__=b.__sandbox__=v,b.events=b.events||{},b.init=function(){var a=J(arguments,0).concat(i);return v.subscribe(b),c.apply(this,a)},b.handleAction=function(a){var b=this.events[a.type];e(b,g)||b.call(this,a)},b.onDestroy=b.onDestroy||b.destroy||function(){},b.destroy=function(){this.onDestroy(),v.unsubscribe(b),delete h[a].instances[b.__instance_id__]},b}function S(a){var b,c;if(e(h[a],g)&&m(a,!0),b=R(a),!s)for(c in b)K(b,c)&&F(b[c])&&P(b,c,a,b[c]);return b}t=d.console||{log:function(){},error:function(){}},u=function(){},u.prototype={type:"Module",getInstance:S,oModifyInit:{},register:function(a,b){return h[a]=new q(a,b),h[a]},_setSuper:function(a,b){a.__super__={},a.__super__.__instance__=b,a.__super__.__call__=function(b,c){var d=this;while(K(d,b)===n)d=d.__instance__.__super__;return d[b].apply(a,c)}},_callInSuper:function(a){return function(){var b=J(arguments,0);a.apply(this,b)}},_mergeModuleExtended:function(a,b){var c;for(c in b)K(b,c)&&(!e(a.__super__,g)&&F(a[c])&&(a.__super__[c]=this._callInSuper(a[c])),a[c]=b[c])},_mergeModuleBase:function(a,b){var c;for(c in b)K(b,c)&&"__super__"!==c&&(a[c]=b[c])},_merge:function(a,b){var c={};return this._setSuper(c,a),this._mergeModuleBase(c,a),this._mergeModuleExtended(c,b),c},setInstance:function(a,b,c){var d=h[a];return d||m(a,!0),d.instances[b]=c,d},setVars:function(a){i=e(i,g)?a:N(i,a)},getVars:function(){return N({},i)},_multiModuleStart:function(a,b,c,d){var e,f,g,h,i,j;for(G(b)&&(e=b.slice(0)),G(c)&&(f=c.slice(0)),G(d)&&(g=d.slice(0)),h=0,i=a.length;i>h;h++)j=a[h],b=e&&e[h]||C(),c=f&&f[h]||c,d=g&&g[h]||d,M(this,j,b,c,d)},_singleModuleStart:function(a,b,c,d){e(b,"string")||(d=c,c=b,b=C()),M(this,a,b,c,d)},start:function(a,b,c,d){var e=G(a);e?this._multiModuleStart(a.slice(0),b,c,d):this._singleModuleStart(a,b,c,d)},extend:function(a,b,c){var d=h[a],f,g;return d?(g=S(a),e(b,p)&&(c=b,b=a),f=c(v,r.module,r.errorHandler(),r,g),h[b]=new q(b,function(){var a={};return a=N(a,g),a=N(a,f),a=N(a,{__super__:{__call__:function(a,b){return g[a].apply(g,b)}}})}),h[b]):(t.log(m(a)),k)},decorate:function(){return this.extend.apply(this,arguments)},isModuleStarted:function(a,b){var c=n;return c=e(b,g)?!e(h[a],g)&&D(h[a].instances)>0:!e(h[a],g)&&!e(h[a].instances[b],g)},startAll:function(){var a,b;for(a in h)K(h,a)&&(b=h[a],e(b,g)||this.start(a,C()))},_multiModuleStop:function(a){var b,c=a.instances,d;for(b in c)K(c,b)&&(d=c[b],e(a,g)||e(d,g)||d.destroy());a.instances={}},_singleModuleStop:function(a,b,c){var d=a.instances[c];e(a,g)||e(d,g)||(d.destroy(),delete a.instances[c])},stop:function(a,b){var c;return c=h[a],e(c,g)?n:(e(b,g)?this._multiModuleStop(c):this._singleModuleStop(c,a,b),!0)},_stopOneByOne:function(a,b){var c;for(c in a)K(a,c)&&this.stop(b,c)},stopAll:function(){var a;for(a in h)K(h,a)&&!e(h[a],g)&&this._stopOneByOne(h[a].instances,a)},_delete:function(a){return e(h[a],g)?n:(delete h[a],!0)},remove:function(a){var b=h[a];if(e(b,g))return k;if(!e(b,g))try{return b}finally{this._delete(a)}return k}};function T(){return t}function U(a){t=a}r=function(){},r.version=o,r.bus=v,r.errorHandler=T,r.setErrorHandler=U,r.module=new u,r.setUnblockUI=I,r.setDebug=H,r.getDebug=function(){return s},r.extend=function(a,b){this[a]=e(this[a],g)?b:N(this[a],b)},r.noConflict=function(a,b,c){return e(this[a],g)?n:(b[c]=this[a],!0)},r.addExtensionBeforeInit=function(a){r.module.oModifyInit=N(r.module.oModifyInit,a)},r.getCopyModules=function(){return O(h)},r.getCopyChannels=function(){return O(w)},q=function(a,b){if(e(b,g))throw new c("Something goes wrong!");this.creator=b,this.instances={},this.sModuleId=a},q.prototype={start:function(a){return r.module.start(this.sModuleId,a),this},extend:function(a,b){return r.module.extend(this.sModuleId,a,b),this},stop:function(){return r.module.stop(this.sModuleId),this}},d.Hydra=r,x?module.exports=r:e(define,g)||define("hydra",[],function(){return r})}).call(this);
//# sourceMappingURL=hydra.min.map