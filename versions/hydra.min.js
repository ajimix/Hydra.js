(function(){var p,l,k,h,j,s,d,n,t,x,y,c,v,u;if(typeof Object.create!=="function"){Object.create=function(z){function A(){}A.prototype=z;return new A()}}u=typeof exports==="object"&&typeof module==="object"&&typeof module.exports==="object"&&typeof require==="function";l="undefined";p=this;j=null;s=false;k={};d="2.5.3";t=s;v={};function q(z){return{}.toString.call(z)}function b(z){return q(z)==="[object Function]"}function a(z){t=z}function o(A,z){return[].slice.call(A,z||0)}function r(z,A){return z.hasOwnProperty(A)}function e(A,z){var B;for(B in z){if(r(z,B)){A[B]=z[B]}}return A}function g(A,C,B,z){A[C]=(function(E,D){return function(){var G=o(arguments,0);try{return D.apply(this,G)}catch(F){x.log(B,E,F)}finally{G=j}}}(C,z))}function i(A,C){var B,z;B=k[A].creator(C);z=B.init||function(){};B.__action__=C;B.oEventsCallbacks=B.oEventsCallbacks||{};B.aListeningEvents=(function(){var E=B.oEventsCallbacks,F,D=[];for(F in E){if(E.hasOwnProperty(F)){D.push(F)}}E=F=null;return D}());B.init=function(D){var E=o(arguments,0).concat(h);C.listen(this.aListeningEvents,this.handleAction,this);z.apply(this,E)};B.handleAction=function(E){var D=this.oEventsCallbacks[E.type];if(typeof D===l){return}D.call(this,E)};B.onDestroy=B.onDestroy||function(){};B.destroy=function(){this.onDestroy();C.stopListen(this.aListeningEvents,this)};return B}function m(B){var D,A,C,z;if(typeof k[B]===l){throw new Error("The module "+B+" is not registered!")}D=new c();C="";z=function(){};A=i(B,D);if(!t){for(C in A){if(r(A,C)){z=A[C];if(!b(z)){continue}g(A,C,B,z)}}}try{return A}finally{D=A=C=z=j}}x=p.console||{log:function(){}};y=function(){};y.prototype={type:"Module",getInstance:m,register:function(A,z){k[A]={creator:z,instances:{}};return k[A]},_merge:function(D,z){var A,C,B;A={};B=function(E){return function(){var F=o(arguments,0);E.apply(this,F)}};A.__super__={};A.__super__.__instance__=D;A.__super__.__call__=function(F,G){var E=this;while(r(E,F)===s){E=E.__instance__.__super__}E[F].apply(A,G)};for(C in D){if(r(D,C)){if(C==="__super__"){continue}A[C]=D[C]}}for(C in z){if(r(z,C)){if(typeof A.__super__!==l&&b(A[C])){A.__super__[C]=(B(A[C]))}A[C]=z[C]}}try{return A}finally{A=j;C=j}},extend:function(F,B,D){var A,E,J,C,G,z,I,H;I=this;A=k[F];E=F;J=function(K){return K};if(typeof B==="string"){E=B;J=D}else{J=B}if(typeof A===l){return}H=new c();G=J(H);C=A.creator(H);k[E]={creator:function(K){z=I._merge(C,G);z.__action__=K;return z},instances:{}}},setInstance:function(B,A,z){var C=k[B];if(!C){throw new Error("The module "+B+" is not registered!")}C.instances[A]=z;return C},setVars:function(z){if(typeof h!==l){h=e(h,z)}else{h=z}},getVars:function(){return e({},h)},start:function(B,A,E,D){var C,z;C=k[B];if(D&&this.isModuleStarted(B,A)){this.stop(B,A)}if(typeof C!==l){z=m(B);C.instances[A]=z;z._id_=A;if(typeof E!==l){z.init(E)}else{z.init()}}C=j;return z},isModuleStarted:function(A,z){return(typeof k[A]!==l&&typeof k[A].instances[z]!==l)},startAll:function(){var z,A;for(z in k){if(r(k,z)){A=k[z];if(typeof A!==l){this.start(z,Math.random())}}}z=j},stop:function(B,z){var C,A;C=k[B];if(typeof C===l){return false}A=C.instances[z];if(typeof C!==l&&typeof A!==l){A.destroy()}C=A=j;return true},stopAll:function(){var A,B,z;for(A in k){if(r(k,A)){B=k[A];if(typeof B!==l){for(z in B.instances){if(r(B.instances,z)){this.stop(A,z)}}}}}A=j},_delete:function(z){if(typeof k[z]!==l){delete k[z]}},remove:function(z){var A=k[z];if(typeof A===l){return null}if(typeof A!==l){try{return A}finally{A=j;this._delete(z)}}}};c=function(){};c.prototype={type:"Action",listen:function(D,B,E){var A,z,C;A="";C=D.length;for(z=0;z<C;z=z+1){A=D[z];if(typeof v[A]===l){v[A]=[]}v[A].push({module:E,handler:B})}},notify:function(D){var F,E,z,B,A,C;C={};F=D.type;E=j;if(typeof v[F]===l){return}z=v[F].slice();A=z.length;C.type=F;C.executed={calls:A,modules:[],callbacks:z};for(B=0;B<A;B=B+1){E=z[B];C.executed.modules.push(E.module);E.handler.call(E.module,D)}x.log(C);F=z=B=A=E=j},stopListen:function(G,E){var A,D,z,C,F,B;A="";D=[];C=G.length;F=0;B=0;for(z=0;z<C;z=z+1){D=[];A=G[z];B=v[A].length;for(F=0;F<B;F=F+1){if(E!==v[A][F].module){D.push(v[A][F])}}v[A]=D;if(v[A].length===0){delete v[A]}}A=D=z=C=F=B=j},__restore__:function(){v={}}};function f(){return x}function w(z){x=z}n=function(){};n.version=d;n.action=function(){return new c()};n.errorHandler=f;n.setErrorHandler=w;n.module=new y();n.setDebug=a;n.extend=function(A,z){if(typeof this[A]===l){this[A]=z}else{this[A]=e(this[A],z)}};n.noConflict=function(A,z,B){if(typeof this[A]!==l){z[B]=this[A];return true}return false};p.Hydra=n;if(u){module.exports=n}else{if(typeof define!=="undefined"){define(function(){return n})}}}).call(this);