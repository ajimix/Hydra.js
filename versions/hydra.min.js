(function(){var t,m,l,h,j,v,d,q,w,B,D,c,z,x,y;function k(){var E=+new Date()+"",F=Math.floor(Math.random()*(999999-1+1))+1;return E+"_"+F}function n(E){var G,F;if(Object.keys){G=Object.keys(E).length}else{G=0;for(F in E){if(E.hasOwnProperty(F)){G++}}}return G}if(typeof Object.create!=="function"){Object.create=function(E){function F(){}F.prototype=E;return new F()}}x=typeof exports==="object"&&typeof module==="object"&&typeof module.exports==="object"&&typeof require==="function";m="undefined";y=Object.prototype;t=this;j=null;v=false;l={};d="2.7.0";w=v;z={};function s(E){return y.toString.call(E)}function b(E){return s(E)==="[object Function]"}function p(E){return s(E)==="[object Array]"}function a(E){w=E}function r(F,E){return[].slice.call(F,E||0)}function u(E,F){return E.hasOwnProperty(F)}function C(G,F,J,I){var H,E;H=l[G];if(I&&this.isModuleStarted(G,F)){this.stop(G,F)}if(typeof H!==m){E=o(G);H.instances[F]=E;E.__instance_id__=F;if(typeof J!==m){E.init(J)}else{E.init()}}H=j;return E}function e(F,E){var G;for(G in E){if(u(E,G)){F[G]=E[G]}}return F}function g(F,H,G,E){F[H]=(function(J,I){return function(){var L=r(arguments,0);try{return I.apply(this,L)}catch(K){B.log(G,J,K)}finally{L=j}}}(H,E))}function i(F,H){var G,E;G=l[F].creator(H);G.__module_id__=F;E=G.init||function(){};G.__action__=H;G.oEventsCallbacks=G.oEventsCallbacks||{};G.aListeningEvents=(function(){var J=G.oEventsCallbacks,K,I=[];for(K in J){if(J.hasOwnProperty(K)){I.push(K)}}J=K=null;return I}());G.init=function(I){var J=r(arguments,0).concat(h);H.listen(this.aListeningEvents,this.handleAction,this);E.apply(this,J)};G.handleAction=function(J){var I=this.oEventsCallbacks[J.type];if(typeof I===m){return}I.call(this,J)};G.onDestroy=G.onDestroy||function(){};G.destroy=function(){this.onDestroy();H.stopListen(this.aListeningEvents,this)};return G}function o(G){var I,F,H,E;if(typeof l[G]===m){throw new Error("The module "+G+" is not registered!")}I=new c();H="";E=function(){};F=i(G,I);if(!w){for(H in F){if(u(F,H)){E=F[H];if(!b(E)){continue}g(F,H,G,E)}}}try{return F}finally{I=F=H=E=j}}B=t.console||{log:function(){}};D=function(){};D.prototype={type:"Module",getInstance:o,register:function(F,E){l[F]={creator:E,instances:{}};return l[F]},_merge:function(I,E){var F,H,G;F={};G=function(J){return function(){var K=r(arguments,0);J.apply(this,K)}};F.__super__={};F.__super__.__instance__=I;F.__super__.__call__=function(K,L){var J=this;while(u(J,K)===v){J=J.__instance__.__super__}J[K].apply(F,L)};for(H in I){if(u(I,H)){if(H==="__super__"){continue}F[H]=I[H]}}for(H in E){if(u(E,H)){if(typeof F.__super__!==m&&b(F[H])){F.__super__[H]=(G(F[H]))}F[H]=E[H]}}try{return F}finally{F=j;H=j}},extend:function(K,G,I){var F,J,O,H,L,E,N,M;N=this;F=l[K];J=K;O=function(P){return P};if(typeof G==="string"){J=G;O=I}else{O=G}if(typeof F===m){return}M=new c();L=O(M);H=F.creator(M);l[J]={creator:function(P){E=N._merge(H,L);E.__action__=P;return E},instances:{}}},setInstance:function(G,F,E){var H=l[G];if(!H){throw new Error("The module "+G+" is not registered!")}H.instances[F]=E;return H},setVars:function(E){if(typeof h!==m){h=e(h,E)}else{h=E}},getVars:function(){return e({},h)},start:function(N,P,G,I){var E=p(N),K,H,M,O,F,L,J;if(E){K=N.slice(0);if(p(P)){H=P.slice(0)}if(p(G)){M=G.slice(0)}if(p(I)){O=I.slice(0)}for(F=0,L=K.length;F<L;F++){N=K[F];P=H&&H[F]||k();G=M&&M[F]||G;I=O&&O[F]||I;C(N,P,G,I)}}else{if(typeof P!=="string"){G=P;I=G;P=k()}C(N,P,G,I)}},isModuleStarted:function(G,E){var F=false;if(typeof E===m){F=(typeof l[G]!==m&&n(l[G].instances)>0)}else{F=(typeof l[G]!==m&&typeof l[G].instances[E]!==m)}return F},startAll:function(){var E,F;for(E in l){if(u(l,E)){F=l[E];if(typeof F!==m){this.start(E,k())}}}E=j},stop:function(G,E){var I,F,J,H;I=l[G];if(typeof I===m){return false}if(typeof E!==m){F=I.instances[E];if(typeof I!==m&&typeof F!==m){F.destroy()}}else{J=I.instances;for(H in J){if(J.hasOwnProperty(H)){F=J[H];if(typeof I!==m&&typeof F!==m){F.destroy()}}}}I=F=j;return true},stopAll:function(){var F,G,E;for(F in l){if(u(l,F)){G=l[F];if(typeof G!==m){for(E in G.instances){if(u(G.instances,E)){this.stop(F,E)}}}}}F=j},_delete:function(E){if(typeof l[E]!==m){delete l[E]}},remove:function(E){var F=l[E];if(typeof F===m){return null}if(typeof F!==m){try{return F}finally{F=j;this._delete(E)}}}};c=function(){};c.prototype={type:"Action",listen:function(I,G,J){var F,E,H;F="";H=I.length;for(E=0;E<H;E=E+1){F=I[E];if(typeof z[F]===m){z[F]=[]}z[F].push({module:J,handler:G})}},notify:function(I){var K,J,E,G,F,H;H={};K=I.type;J=j;if(typeof z[K]===m){return}E=z[K].slice();F=E.length;if(w){H.type=K;H.executed={calls:F,actions:E};B.log(K,H)}for(G=0;G<F;G=G+1){J=E[G];J.handler.call(J.module,I)}K=E=G=F=J=j},stopListen:function(L,J){var F,I,E,H,K,G;F="";I=[];H=L.length;K=0;G=0;for(E=0;E<H;E=E+1){I=[];F=L[E];G=z[F].length;for(K=0;K<G;K=K+1){if(J!==z[F][K].module){I.push(z[F][K])}}z[F]=I;if(z[F].length===0){delete z[F]}}F=I=E=H=K=G=j},__restore__:function(){z={}}};function f(){return B}function A(E){B=E}q=function(){};q.version=d;q.action=function(){return new c()};q.errorHandler=f;q.setErrorHandler=A;q.module=new D();q.setDebug=a;q.extend=function(F,E){if(typeof this[F]===m){this[F]=E}else{this[F]=e(this[F],E)}};q.noConflict=function(F,E,G){if(typeof this[F]!==m){E[G]=this[F];return true}return false};t.Hydra=q;if(x){module.exports=q}else{if(typeof define!=="undefined"){define(function(){return q})}}}.call(this));