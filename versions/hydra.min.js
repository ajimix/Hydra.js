(function(s,A,p){var l,z,i,k,u,e,d,o,v,y,B,c,w;if(A===p){A=s}if(s.document){z=s.document}k=null;u=false;e=true;l={};d="2.2.0";v=u;w={};function r(C){return{}.toString.call(C)}function b(C){return r(C)==="[object Function]"}function n(C){return r(C)==="[object Array]"}function a(C){v=C}function q(D,C){return[].slice.call(D,C||0)}function t(C,D){return C.hasOwnProperty(D)}function f(D,C){var E;for(E in C){if(t(C,E)){D[E]=C[E]}}return D}function h(D,F,E,C){D[F]=(function(H,G){return function(){var J=q(arguments,0);try{return G.apply(this,J)}catch(I){y.log(E,H,I)}finally{J=k}}}(F,C))}function j(D,F){var E,C;E=l[D].creator(F);C=E.init;E.__action__=F;E.oEventsCallbacks=E.oEventsCallbacks||{};E.aListeningEvents=(function(){var H=E.oEventsCallbacks,I,G=[];for(I in H){if(H.hasOwnProperty(I)){G.push(I)}}H=I=null;return G}());E.init=function(G){var H=q(arguments,0).concat(i);F.listen(this.aListeningEvents,this.handleAction,this);C.apply(this,H)};E.handleAction=function(H){var G=this.oEventsCallbacks[H.type];if(G===p){return}G.call(this,H)};E.onDestroy=E.onDestroy||function(){};E.destroy=function(){this.onDestroy();F.stopListen(this.aListeningEvents,this)};return E}function m(E){var G,D,F,C;if(l[E]===p){throw new Error("The module is not registered!")}G=new c();F="";C=function(){};D=j(E,G);if(!v){for(F in D){if(t(D,F)){C=D[F];if(!b(C)){continue}h(D,F,E,C)}}}try{return D}finally{G=k;D=k;F=k;C=k}}y=s.console||{log:function(){}};B=function(){};B.prototype={type:"Module",register:function(D,C){l[D]={creator:C,instances:{}};return l[D]},_merge:function(H,C,F){var D,G,E;D={};E=function(I){return function(){var J=q(arguments,0);I.apply(this,J)}};if(F){D.__super__={};D.__super__.__instance__=H;D.__super__.__call__=function(J,K){var I=this;while(t(I,J)===u){I=I.__instance__.__super__}I[J].apply(D,K)}}for(G in H){if(t(H,G)){if(G==="__super__"){continue}D[G]=H[G]}}for(G in C){if(t(C,G)){if(D.__super__!==p&&b(D[G])){D.__super__[G]=(E(D[G]));D[G]=C[G]}else{D[G]=C[G]}}}try{return D}finally{D=k;G=k}},extend:function(I,E,G){var D,H,L,F,J,C,K;D=l[I];H=I;L=function(M){return M};if(typeof E==="string"){H=E;L=G}else{L=E}if(D===p){return}K=new c();J=L(K);F=D.creator(K);C=this._merge(F,J,(H!==I));C.__action__=K;l[H]={creator:(function(M){return function(){return M}}(C)),instances:{}};D=k;H=k;L=k;F=k;J=k;C=k;K=k},setVars:function(C){if(typeof i!=="undefined"){i=f(i,C)}else{i=C}},getVars:function(){return f({},i)},test:function(C,D){if(jstestdriver){a(e);D(m(C));a(u)}},getModule:function(E,D){var F=l[E],C;if(jstestdriver){C=m(E);F.instances[D]=C;return F}return null},start:function(E,D,H,G){var F,C;F=l[E];if(G&&this.isModuleStarted(E,D)){this.stop(E,D)}if(F!==p){C=m(E);F.instances[D]=C;C.__container__=z.getElementById(D);if(typeof H!=="undefined"){C.init(H)}else{C.init()}}F=k;return C},isModuleStarted:function(D,C){return(typeof l[D]!==p&&l[D].instances[C]!==p)},startAll:function(){var C,D;for(C in l){if(t(l,C)){D=l[C];if(D!==p){this.start(C,Math.random())}}}C=k},stop:function(E,D){var F,C;F=l[E];if(F===p){return false}C=F.instances[D];if(F!==p&&C!==p){C.destroy()}F=C=k;return true},stopAll:function(){var D,E,C;for(D in l){if(t(l,D)){E=l[D];if(E!==p){for(C in E.instances){if(t(E.instances,C)){this.stop(D,C)}}}}}D=k},_delete:function(C){if(l[C]!==p){delete l[C]}},remove:function(C){var D=l[C];if(D===p){return null}if(D!==p){try{return D}finally{D=k;this._delete(C)}}}};c=function(){};c.prototype={type:"Action",listen:function(G,E,H){var D,C,F;D="";F=G.length;for(C=0;C<F;C=C+1){D=G[C];if(w[D]===p){w[D]=[]}w[D].push({module:H,handler:E})}},notify:function(F){var H,G,C,E,D;H=F.type;G=k;if(w[H]===p){return}C=w[H].slice();D=C.length;for(E=0;E<D;E=E+1){G=C[E];G.handler.call(G.module,F)}H=k;C=k;E=k;D=k;G=k},stopListen:function(J,H){var D,G,C,F,I,E;D="";G=[];F=J.length;I=0;E=0;for(C=0;C<F;C=C+1){G=[];D=J[C];E=w[D].length;for(I=0;I<E;I=I+1){if(H!==w[D][I].module){G.push(w[D][I])}}w[D]=G;if(w[D].length===0){delete w[D]}}D=k;G=k;C=k;F=k;I=k;E=k},__restore__:function(){w={}}};function g(){return y}function x(C){y=C}o=function(){};o.version=d;o.action=function(){return new c()};o.errorHandler=g;o.setErrorHandler=x;o.module=new B();o.setDebug=a;o.extend=function(D,C){if(this[D]===p){this[D]=C}else{this[D]=f(this[D],C)}};o.noConflict=function(D,C,E){if(this[D]!==p){C[E]=this[D];return true}return false};A.Hydra=o}(window));